"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("bcrypt");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "stripe":
/*!*************************!*\
  !*** external "stripe" ***!
  \*************************/
/***/ ((module) => {

module.exports = import("stripe");;

/***/ }),

/***/ "(api)/../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/../node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/../node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/auth/[...nextauth].ts */ \"(api)/./src/pages/api/auth/[...nextauth].ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/[...nextauth]\",\n        pathname: \"/api/auth/[...nextauth]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1yb3V0ZS1sb2FkZXIvaW5kZXguanM/a2luZD1QQUdFU19BUEkmcGFnZT0lMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNrRTtBQUNsRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsNERBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLDREQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cGVuc2UtbWFuYWdlbWVudC8/MDg1NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/db.ts":
/*!*******************!*\
  !*** ./src/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBRTlDLE1BQU1DLGtCQUFrQkM7QUFJakIsTUFBTUMsU0FBU0YsZ0JBQWdCRSxNQUFNLElBQUksSUFBSUgsd0RBQVlBLEdBQUc7QUFFbkUsSUFBSUksSUFBcUMsRUFBRUgsZ0JBQWdCRSxNQUFNLEdBQUdBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwZW5zZS1tYW5hZ2VtZW50Ly4vc3JjL2RiLnRzP2FiMDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSBcIkBwcmlzbWEvY2xpZW50XCI7XG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IGNvbnN0IHByaXNtYSA9IGdsb2JhbEZvclByaXNtYS5wcmlzbWEgPz8gbmV3IFByaXNtYUNsaWVudCgpO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID0gcHJpc21hO1xuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsImdsb2JhbEZvclByaXNtYSIsImdsb2JhbFRoaXMiLCJwcmlzbWEiLCJwcm9jZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/db.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/auth/[...nextauth].ts":
/*!*********************************************!*\
  !*** ./src/pages/api/auth/[...nextauth].ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var src_utils_account_management_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/utils/account-management-helpers */ \"(api)/./src/utils/account-management-helpers.ts\");\n/* harmony import */ var src_utils_authentication__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utils/authentication */ \"(api)/./src/utils/authentication.ts\");\n/* harmony import */ var src_utils_logger__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/utils/logger */ \"(api)/./src/utils/logger.ts\");\n/* harmony import */ var src_utils_onboarding_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! src/utils/onboarding-helpers */ \"(api)/./src/utils/onboarding-helpers.ts\");\n/* harmony import */ var src_utils_stripe_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! src/utils/stripe-loader */ \"(api)/./src/utils/stripe-loader.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([src_utils_authentication__WEBPACK_IMPORTED_MODULE_3__, src_utils_onboarding_helpers__WEBPACK_IMPORTED_MODULE_5__, src_utils_stripe_loader__WEBPACK_IMPORTED_MODULE_6__]);\n([src_utils_authentication__WEBPACK_IMPORTED_MODULE_3__, src_utils_onboarding_helpers__WEBPACK_IMPORTED_MODULE_5__, src_utils_stripe_loader__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\nconst authOptions = {\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"text\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            authorize: async (credentials)=>{\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                return await (0,src_utils_authentication__WEBPACK_IMPORTED_MODULE_3__.authenticateUser)(credentials.email, credentials.password);\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/auth/login\"\n    },\n    callbacks: {\n        // User session context setup flow step 2:\n        // This will return a token object that also gets saved in the client's browser cookie and then subsequently\n        // provided in every request.\n        jwt: async ({ token, user })=>{\n            // If the `requiresOnboarding` field is set to anything other than `undefined`, it means we've already set it up.\n            // Otherwise, we wouldn't have been able to set the `requiresOnboarding` value as setting up the token is a\n            // prerequisite for checking and setting that field. So we're safe to use the information in the token here.\n            src_utils_logger__WEBPACK_IMPORTED_MODULE_4__[\"default\"].debug(\"Inside JWT callback, token provided:\", token);\n            src_utils_logger__WEBPACK_IMPORTED_MODULE_4__[\"default\"].debug(\"Inside JWT callback, user provided:\", user);\n            if (token.requiresOnboarding != undefined) {\n                const stripeAccount = {\n                    accountId: token.accountId,\n                    platform: (0,src_utils_account_management_helpers__WEBPACK_IMPORTED_MODULE_2__.getPlatformStripeAccountForCountry)(token.country)\n                };\n                token.requiresOnboarding = token.requiresOnboarding && await (0,src_utils_onboarding_helpers__WEBPACK_IMPORTED_MODULE_5__.hasOutstandingRequirements)(stripeAccount);\n            }\n            src_utils_logger__WEBPACK_IMPORTED_MODULE_4__[\"default\"].debug(\"User's email:\", user?.email);\n            if (user?.email) {\n                return {\n                    ...token,\n                    ...user\n                };\n            }\n            // If accountId is undefined, that means we're most likely not authenticated yet\n            if (token.accountId != undefined && token.businessName == undefined) {\n                const platform = (0,src_utils_account_management_helpers__WEBPACK_IMPORTED_MODULE_2__.getPlatformStripeAccountForCountry)(token.country);\n                const stripe = (0,src_utils_stripe_loader__WEBPACK_IMPORTED_MODULE_6__[\"default\"])(platform);\n                const account = await stripe.accounts.retrieve(token.accountId);\n                const businessName = account.business_profile?.name;\n                const country = account.country;\n                const currency = account.default_currency;\n                if (businessName != undefined) {\n                    token.businessName = businessName;\n                }\n                if (country != undefined) {\n                    token.country = country;\n                }\n                if (currency != undefined) {\n                    token.currency = currency;\n                }\n            }\n            return token;\n        },\n        session: async ({ session, token })=>{\n            if (token.email == undefined) {\n                throw new Error(\"Session callback: email is missing in the token\");\n            }\n            if (token.accountId == undefined) {\n                throw new Error(\"Session callback: account ID is missing in the token\");\n            }\n            if (token.requiresOnboarding == undefined) {\n                throw new Error(\"Session callback: requiresOnboarding is missing in the token\");\n            }\n            if (token.country == undefined) {\n                throw new Error(\"Session callback: country is missing in the token\");\n            }\n            if (token.currency == undefined) {\n                throw new Error(\"Session callback: currency is missing in the token\");\n            }\n            const stripeAccount = {\n                accountId: token.accountId,\n                platform: (0,src_utils_account_management_helpers__WEBPACK_IMPORTED_MODULE_2__.getPlatformStripeAccountForCountry)(token.country)\n            };\n            session.email = token.email;\n            session.stripeAccount = stripeAccount;\n            session.requiresOnboarding = token.requiresOnboarding;\n            session.businessName = token.businessName;\n            session.country = token.country;\n            session.currency = token.currency;\n            return session;\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()(authOptions));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUEyQztBQUl1QjtBQUtwQjtBQUNjO0FBQ3RCO0FBQ29DO0FBQ3ZCO0FBRTVDLE1BQU1PLGNBQStCO0lBQzFDQyxXQUFXO1FBQ1RQLHNFQUFtQkEsQ0FBQztZQUNsQlEsTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFPO2dCQUN0Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBWUMsTUFBTTtnQkFBVztZQUNsRDtZQUNBRSxXQUFXLE9BQU9MO2dCQUNoQixJQUFJLENBQUNBLGFBQWFDLFNBQVMsQ0FBQ0QsYUFBYUksVUFBVTtvQkFDakQsT0FBTztnQkFDVDtnQkFFQSxPQUFPLE1BQU1YLDBFQUFnQkEsQ0FBQ08sWUFBWUMsS0FBSyxFQUFFRCxZQUFZSSxRQUFRO1lBQ3ZFO1FBQ0Y7S0FDRDtJQUNERSxTQUFTO1FBQ1BDLFVBQVU7SUFDWjtJQUNBQyxPQUFPO1FBQ0xDLFFBQVE7SUFDVjtJQUNBQyxXQUFXO1FBQ1QsMENBQTBDO1FBQzFDLDRHQUE0RztRQUM1Ryw2QkFBNkI7UUFDN0JDLEtBQUssT0FBTyxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBK0I7WUFDdEQsaUhBQWlIO1lBQ2pILDJHQUEyRztZQUMzRyw0R0FBNEc7WUFDNUduQiw4REFBWSxDQUFDLHdDQUF3Q2tCO1lBQ3JEbEIsOERBQVksQ0FBQyx1Q0FBdUNtQjtZQUNwRCxJQUFJRCxNQUFNRyxrQkFBa0IsSUFBSUMsV0FBVztnQkFDekMsTUFBTUMsZ0JBQWdCO29CQUNwQkMsV0FBV04sTUFBTU0sU0FBUztvQkFDMUJDLFVBQVUzQix3R0FBa0NBLENBQUNvQixNQUFNUSxPQUFPO2dCQUM1RDtnQkFFQVIsTUFBTUcsa0JBQWtCLEdBQ3RCSCxNQUFNRyxrQkFBa0IsSUFDdkIsTUFBTXBCLHdGQUEwQkEsQ0FBQ3NCO1lBQ3RDO1lBRUF2Qiw4REFBWSxDQUFDLGlCQUFpQm1CLE1BQU1aO1lBQ3BDLElBQUlZLE1BQU1aLE9BQU87Z0JBQ2YsT0FBTztvQkFBRSxHQUFHVyxLQUFLO29CQUFFLEdBQUdDLElBQUk7Z0JBQUM7WUFDN0I7WUFFQSxnRkFBZ0Y7WUFDaEYsSUFBSUQsTUFBTU0sU0FBUyxJQUFJRixhQUFhSixNQUFNUyxZQUFZLElBQUlMLFdBQVc7Z0JBQ25FLE1BQU1HLFdBQVczQix3R0FBa0NBLENBQUNvQixNQUFNUSxPQUFPO2dCQUNqRSxNQUFNRSxTQUFTMUIsbUVBQVlBLENBQUN1QjtnQkFDNUIsTUFBTUksVUFBVSxNQUFNRCxPQUFPRSxRQUFRLENBQUNDLFFBQVEsQ0FBQ2IsTUFBTU0sU0FBUztnQkFDOUQsTUFBTUcsZUFBZUUsUUFBUUcsZ0JBQWdCLEVBQUUzQjtnQkFDL0MsTUFBTXFCLFVBQVVHLFFBQVFILE9BQU87Z0JBQy9CLE1BQU1PLFdBQVdKLFFBQVFLLGdCQUFnQjtnQkFFekMsSUFBSVAsZ0JBQWdCTCxXQUFXO29CQUM3QkosTUFBTVMsWUFBWSxHQUFHQTtnQkFDdkI7Z0JBRUEsSUFBSUQsV0FBV0osV0FBVztvQkFDeEJKLE1BQU1RLE9BQU8sR0FBR0E7Z0JBQ2xCO2dCQUVBLElBQUlPLFlBQVlYLFdBQVc7b0JBQ3pCSixNQUFNZSxRQUFRLEdBQUdBO2dCQUNuQjtZQUNGO1lBRUEsT0FBT2Y7UUFDVDtRQUNBTixTQUFTLE9BQU8sRUFBRUEsT0FBTyxFQUFFTSxLQUFLLEVBQW9DO1lBQ2xFLElBQUlBLE1BQU1YLEtBQUssSUFBSWUsV0FBVztnQkFDNUIsTUFBTSxJQUFJYSxNQUFNO1lBQ2xCO1lBRUEsSUFBSWpCLE1BQU1NLFNBQVMsSUFBSUYsV0FBVztnQkFDaEMsTUFBTSxJQUFJYSxNQUFNO1lBQ2xCO1lBRUEsSUFBSWpCLE1BQU1HLGtCQUFrQixJQUFJQyxXQUFXO2dCQUN6QyxNQUFNLElBQUlhLE1BQ1I7WUFFSjtZQUVBLElBQUlqQixNQUFNUSxPQUFPLElBQUlKLFdBQVc7Z0JBQzlCLE1BQU0sSUFBSWEsTUFBTTtZQUNsQjtZQUVBLElBQUlqQixNQUFNZSxRQUFRLElBQUlYLFdBQVc7Z0JBQy9CLE1BQU0sSUFBSWEsTUFBTTtZQUNsQjtZQUVBLE1BQU1aLGdCQUFnQjtnQkFDcEJDLFdBQVdOLE1BQU1NLFNBQVM7Z0JBQzFCQyxVQUFVM0Isd0dBQWtDQSxDQUFDb0IsTUFBTVEsT0FBTztZQUM1RDtZQUVBZCxRQUFRTCxLQUFLLEdBQUdXLE1BQU1YLEtBQUs7WUFDM0JLLFFBQVFXLGFBQWEsR0FBR0E7WUFDeEJYLFFBQVFTLGtCQUFrQixHQUFHSCxNQUFNRyxrQkFBa0I7WUFDckRULFFBQVFlLFlBQVksR0FBR1QsTUFBTVMsWUFBWTtZQUN6Q2YsUUFBUWMsT0FBTyxHQUFHUixNQUFNUSxPQUFPO1lBQy9CZCxRQUFRcUIsUUFBUSxHQUFHZixNQUFNZSxRQUFRO1lBRWpDLE9BQU9yQjtRQUNUO0lBQ0Y7QUFDRixFQUFFO0FBRUYsaUVBQWVoQixnREFBUUEsQ0FBQ08sWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cGVuc2UtbWFuYWdlbWVudC8uL3NyYy9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLnRzPzUwYTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5leHRBdXRoLCB7IFVzZXIgfSBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgdHlwZSB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCB7IFNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoL2NvcmUvdHlwZXNcIjtcbmltcG9ydCB7IEpXVCB9IGZyb20gXCJuZXh0LWF1dGgvand0XCI7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiO1xuXG5pbXBvcnQge1xuICBnZXRQbGF0Zm9ybVN0cmlwZUFjY291bnRGb3JDb3VudHJ5LFxuICBTdXBwb3J0ZWRDb3VudHJ5LFxufSBmcm9tIFwic3JjL3V0aWxzL2FjY291bnQtbWFuYWdlbWVudC1oZWxwZXJzXCI7XG5pbXBvcnQgeyBhdXRoZW50aWNhdGVVc2VyIH0gZnJvbSBcInNyYy91dGlscy9hdXRoZW50aWNhdGlvblwiO1xuaW1wb3J0IGxvZ2dlciBmcm9tIFwic3JjL3V0aWxzL2xvZ2dlclwiO1xuaW1wb3J0IHsgaGFzT3V0c3RhbmRpbmdSZXF1aXJlbWVudHMgfSBmcm9tIFwic3JjL3V0aWxzL29uYm9hcmRpbmctaGVscGVyc1wiO1xuaW1wb3J0IHN0cmlwZUNsaWVudCBmcm9tIFwic3JjL3V0aWxzL3N0cmlwZS1sb2FkZXJcIjtcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIHByb3ZpZGVyczogW1xuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogXCJDcmVkZW50aWFsc1wiLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6IFwiRW1haWxcIiwgdHlwZTogXCJ0ZXh0XCIgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6IFwiUGFzc3dvcmRcIiwgdHlwZTogXCJwYXNzd29yZFwiIH0sXG4gICAgICB9LFxuICAgICAgYXV0aG9yaXplOiBhc3luYyAoY3JlZGVudGlhbHMpID0+IHtcbiAgICAgICAgaWYgKCFjcmVkZW50aWFscz8uZW1haWwgfHwgIWNyZWRlbnRpYWxzPy5wYXNzd29yZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF3YWl0IGF1dGhlbnRpY2F0ZVVzZXIoY3JlZGVudGlhbHMuZW1haWwsIGNyZWRlbnRpYWxzLnBhc3N3b3JkKTtcbiAgICAgIH0sXG4gICAgfSksXG4gIF0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogXCJqd3RcIixcbiAgfSxcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46IFwiL2F1dGgvbG9naW5cIixcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgLy8gVXNlciBzZXNzaW9uIGNvbnRleHQgc2V0dXAgZmxvdyBzdGVwIDI6XG4gICAgLy8gVGhpcyB3aWxsIHJldHVybiBhIHRva2VuIG9iamVjdCB0aGF0IGFsc28gZ2V0cyBzYXZlZCBpbiB0aGUgY2xpZW50J3MgYnJvd3NlciBjb29raWUgYW5kIHRoZW4gc3Vic2VxdWVudGx5XG4gICAgLy8gcHJvdmlkZWQgaW4gZXZlcnkgcmVxdWVzdC5cbiAgICBqd3Q6IGFzeW5jICh7IHRva2VuLCB1c2VyIH06IHsgdG9rZW46IEpXVDsgdXNlcj86IFVzZXIgfSkgPT4ge1xuICAgICAgLy8gSWYgdGhlIGByZXF1aXJlc09uYm9hcmRpbmdgIGZpZWxkIGlzIHNldCB0byBhbnl0aGluZyBvdGhlciB0aGFuIGB1bmRlZmluZWRgLCBpdCBtZWFucyB3ZSd2ZSBhbHJlYWR5IHNldCBpdCB1cC5cbiAgICAgIC8vIE90aGVyd2lzZSwgd2Ugd291bGRuJ3QgaGF2ZSBiZWVuIGFibGUgdG8gc2V0IHRoZSBgcmVxdWlyZXNPbmJvYXJkaW5nYCB2YWx1ZSBhcyBzZXR0aW5nIHVwIHRoZSB0b2tlbiBpcyBhXG4gICAgICAvLyBwcmVyZXF1aXNpdGUgZm9yIGNoZWNraW5nIGFuZCBzZXR0aW5nIHRoYXQgZmllbGQuIFNvIHdlJ3JlIHNhZmUgdG8gdXNlIHRoZSBpbmZvcm1hdGlvbiBpbiB0aGUgdG9rZW4gaGVyZS5cbiAgICAgIGxvZ2dlci5kZWJ1ZyhcIkluc2lkZSBKV1QgY2FsbGJhY2ssIHRva2VuIHByb3ZpZGVkOlwiLCB0b2tlbik7XG4gICAgICBsb2dnZXIuZGVidWcoXCJJbnNpZGUgSldUIGNhbGxiYWNrLCB1c2VyIHByb3ZpZGVkOlwiLCB1c2VyKTtcbiAgICAgIGlmICh0b2tlbi5yZXF1aXJlc09uYm9hcmRpbmcgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHN0cmlwZUFjY291bnQgPSB7XG4gICAgICAgICAgYWNjb3VudElkOiB0b2tlbi5hY2NvdW50SWQsXG4gICAgICAgICAgcGxhdGZvcm06IGdldFBsYXRmb3JtU3RyaXBlQWNjb3VudEZvckNvdW50cnkodG9rZW4uY291bnRyeSksXG4gICAgICAgIH07XG5cbiAgICAgICAgdG9rZW4ucmVxdWlyZXNPbmJvYXJkaW5nID1cbiAgICAgICAgICB0b2tlbi5yZXF1aXJlc09uYm9hcmRpbmcgJiZcbiAgICAgICAgICAoYXdhaXQgaGFzT3V0c3RhbmRpbmdSZXF1aXJlbWVudHMoc3RyaXBlQWNjb3VudCkpO1xuICAgICAgfVxuXG4gICAgICBsb2dnZXIuZGVidWcoXCJVc2VyJ3MgZW1haWw6XCIsIHVzZXI/LmVtYWlsKTtcbiAgICAgIGlmICh1c2VyPy5lbWFpbCkge1xuICAgICAgICByZXR1cm4geyAuLi50b2tlbiwgLi4udXNlciB9O1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBhY2NvdW50SWQgaXMgdW5kZWZpbmVkLCB0aGF0IG1lYW5zIHdlJ3JlIG1vc3QgbGlrZWx5IG5vdCBhdXRoZW50aWNhdGVkIHlldFxuICAgICAgaWYgKHRva2VuLmFjY291bnRJZCAhPSB1bmRlZmluZWQgJiYgdG9rZW4uYnVzaW5lc3NOYW1lID09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBwbGF0Zm9ybSA9IGdldFBsYXRmb3JtU3RyaXBlQWNjb3VudEZvckNvdW50cnkodG9rZW4uY291bnRyeSk7XG4gICAgICAgIGNvbnN0IHN0cmlwZSA9IHN0cmlwZUNsaWVudChwbGF0Zm9ybSk7XG4gICAgICAgIGNvbnN0IGFjY291bnQgPSBhd2FpdCBzdHJpcGUuYWNjb3VudHMucmV0cmlldmUodG9rZW4uYWNjb3VudElkKTtcbiAgICAgICAgY29uc3QgYnVzaW5lc3NOYW1lID0gYWNjb3VudC5idXNpbmVzc19wcm9maWxlPy5uYW1lO1xuICAgICAgICBjb25zdCBjb3VudHJ5ID0gYWNjb3VudC5jb3VudHJ5O1xuICAgICAgICBjb25zdCBjdXJyZW5jeSA9IGFjY291bnQuZGVmYXVsdF9jdXJyZW5jeTtcblxuICAgICAgICBpZiAoYnVzaW5lc3NOYW1lICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRva2VuLmJ1c2luZXNzTmFtZSA9IGJ1c2luZXNzTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb3VudHJ5ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRva2VuLmNvdW50cnkgPSBjb3VudHJ5IGFzIHVua25vd24gYXMgU3VwcG9ydGVkQ291bnRyeTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW5jeSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB0b2tlbi5jdXJyZW5jeSA9IGN1cnJlbmN5O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxuICAgIHNlc3Npb246IGFzeW5jICh7IHNlc3Npb24sIHRva2VuIH06IHsgc2Vzc2lvbjogU2Vzc2lvbjsgdG9rZW46IEpXVCB9KSA9PiB7XG4gICAgICBpZiAodG9rZW4uZW1haWwgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gY2FsbGJhY2s6IGVtYWlsIGlzIG1pc3NpbmcgaW4gdGhlIHRva2VuXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodG9rZW4uYWNjb3VudElkID09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uIGNhbGxiYWNrOiBhY2NvdW50IElEIGlzIG1pc3NpbmcgaW4gdGhlIHRva2VuXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodG9rZW4ucmVxdWlyZXNPbmJvYXJkaW5nID09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJTZXNzaW9uIGNhbGxiYWNrOiByZXF1aXJlc09uYm9hcmRpbmcgaXMgbWlzc2luZyBpbiB0aGUgdG9rZW5cIixcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRva2VuLmNvdW50cnkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlc3Npb24gY2FsbGJhY2s6IGNvdW50cnkgaXMgbWlzc2luZyBpbiB0aGUgdG9rZW5cIik7XG4gICAgICB9XG5cbiAgICAgIGlmICh0b2tlbi5jdXJyZW5jeSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbiBjYWxsYmFjazogY3VycmVuY3kgaXMgbWlzc2luZyBpbiB0aGUgdG9rZW5cIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHN0cmlwZUFjY291bnQgPSB7XG4gICAgICAgIGFjY291bnRJZDogdG9rZW4uYWNjb3VudElkLFxuICAgICAgICBwbGF0Zm9ybTogZ2V0UGxhdGZvcm1TdHJpcGVBY2NvdW50Rm9yQ291bnRyeSh0b2tlbi5jb3VudHJ5KSxcbiAgICAgIH07XG5cbiAgICAgIHNlc3Npb24uZW1haWwgPSB0b2tlbi5lbWFpbDtcbiAgICAgIHNlc3Npb24uc3RyaXBlQWNjb3VudCA9IHN0cmlwZUFjY291bnQ7XG4gICAgICBzZXNzaW9uLnJlcXVpcmVzT25ib2FyZGluZyA9IHRva2VuLnJlcXVpcmVzT25ib2FyZGluZztcbiAgICAgIHNlc3Npb24uYnVzaW5lc3NOYW1lID0gdG9rZW4uYnVzaW5lc3NOYW1lO1xuICAgICAgc2Vzc2lvbi5jb3VudHJ5ID0gdG9rZW4uY291bnRyeTtcbiAgICAgIHNlc3Npb24uY3VycmVuY3kgPSB0b2tlbi5jdXJyZW5jeTtcblxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfSxcbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IE5leHRBdXRoKGF1dGhPcHRpb25zKTtcbiJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJnZXRQbGF0Zm9ybVN0cmlwZUFjY291bnRGb3JDb3VudHJ5IiwiYXV0aGVudGljYXRlVXNlciIsImxvZ2dlciIsImhhc091dHN0YW5kaW5nUmVxdWlyZW1lbnRzIiwic3RyaXBlQ2xpZW50IiwiYXV0aE9wdGlvbnMiLCJwcm92aWRlcnMiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwicGFnZXMiLCJzaWduSW4iLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsInVzZXIiLCJkZWJ1ZyIsInJlcXVpcmVzT25ib2FyZGluZyIsInVuZGVmaW5lZCIsInN0cmlwZUFjY291bnQiLCJhY2NvdW50SWQiLCJwbGF0Zm9ybSIsImNvdW50cnkiLCJidXNpbmVzc05hbWUiLCJzdHJpcGUiLCJhY2NvdW50IiwiYWNjb3VudHMiLCJyZXRyaWV2ZSIsImJ1c2luZXNzX3Byb2ZpbGUiLCJjdXJyZW5jeSIsImRlZmF1bHRfY3VycmVuY3kiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/auth/[...nextauth].ts\n");

/***/ }),

/***/ "(api)/./src/utils/account-management-helpers.ts":
/*!*************************************************!*\
  !*** ./src/utils/account-management-helpers.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CountryConfigMap: () => (/* binding */ CountryConfigMap),\n/* harmony export */   Currency: () => (/* binding */ Currency),\n/* harmony export */   PlatformStripeAccount: () => (/* binding */ PlatformStripeAccount),\n/* harmony export */   SupportedCountry: () => (/* binding */ SupportedCountry),\n/* harmony export */   enabledPlatforms: () => (/* binding */ enabledPlatforms),\n/* harmony export */   getPlatformStripeAccountForCountry: () => (/* binding */ getPlatformStripeAccountForCountry),\n/* harmony export */   getSupportedCountryConfigsInRegion: () => (/* binding */ getSupportedCountryConfigsInRegion),\n/* harmony export */   isSupportedCountry: () => (/* binding */ isSupportedCountry)\n/* harmony export */ });\nvar SupportedCountry;\n(function(SupportedCountry) {\n    SupportedCountry[\"AT\"] = \"AT\";\n    SupportedCountry[\"BE\"] = \"BE\";\n    SupportedCountry[\"CY\"] = \"CY\";\n    SupportedCountry[\"DE\"] = \"DE\";\n    SupportedCountry[\"EE\"] = \"EE\";\n    SupportedCountry[\"ES\"] = \"ES\";\n    SupportedCountry[\"FI\"] = \"FI\";\n    SupportedCountry[\"FR\"] = \"FR\";\n    SupportedCountry[\"GR\"] = \"GR\";\n    SupportedCountry[\"HR\"] = \"HR\";\n    SupportedCountry[\"IE\"] = \"IE\";\n    SupportedCountry[\"IT\"] = \"IT\";\n    SupportedCountry[\"LT\"] = \"LT\";\n    SupportedCountry[\"LU\"] = \"LU\";\n    SupportedCountry[\"LV\"] = \"LV\";\n    SupportedCountry[\"MT\"] = \"MT\";\n    SupportedCountry[\"NL\"] = \"NL\";\n    SupportedCountry[\"PT\"] = \"PT\";\n    SupportedCountry[\"SI\"] = \"SI\";\n    SupportedCountry[\"SK\"] = \"SK\";\n    SupportedCountry[\"UK\"] = \"GB\";\n})(SupportedCountry || (SupportedCountry = {}));\nvar Currency;\n(function(Currency) {\n    Currency[\"USD\"] = \"usd\";\n    Currency[\"GBP\"] = \"gbp\";\n    Currency[\"EUR\"] = \"eur\";\n})(Currency || (Currency = {}));\nvar PlatformStripeAccount;\n(function(PlatformStripeAccount) {\n    PlatformStripeAccount[PlatformStripeAccount[\"UK\"] = 0] = \"UK\";\n    PlatformStripeAccount[PlatformStripeAccount[\"EU\"] = 1] = \"EU\";\n})(PlatformStripeAccount || (PlatformStripeAccount = {}));\nconst CountryConfigMap = {\n    [\"AT\"]: {\n        code: \"AT\",\n        name: \"Austria\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"de-AT\"\n    },\n    [\"BE\"]: {\n        code: \"BE\",\n        name: \"Belgium\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"fr-BE\"\n    },\n    [\"CY\"]: {\n        code: \"CY\",\n        name: \"Cyprus\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"el-CY\"\n    },\n    [\"DE\"]: {\n        code: \"DE\",\n        name: \"Germany\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"de-DE\"\n    },\n    [\"EE\"]: {\n        code: \"EE\",\n        name: \"Estonia\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"et-EE\"\n    },\n    [\"ES\"]: {\n        code: \"ES\",\n        name: \"Spain\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"es-ES\"\n    },\n    [\"FI\"]: {\n        code: \"FI\",\n        name: \"Finland\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"fi-FI\"\n    },\n    [\"FR\"]: {\n        code: \"FR\",\n        name: \"France\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"fr-FR\"\n    },\n    [\"GR\"]: {\n        code: \"GR\",\n        name: \"Greece\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"el-GR\"\n    },\n    [\"HR\"]: {\n        code: \"HR\",\n        name: \"Croatia\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"hr-HR\"\n    },\n    [\"IE\"]: {\n        code: \"IE\",\n        name: \"Ireland\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"en-IE\"\n    },\n    [\"IT\"]: {\n        code: \"IT\",\n        name: \"Italy\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"it-IT\"\n    },\n    [\"LT\"]: {\n        code: \"LT\",\n        name: \"Lithuania\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"lt-LT\"\n    },\n    [\"LU\"]: {\n        code: \"LU\",\n        name: \"Luxembourg\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"lb-LU\"\n    },\n    [\"LV\"]: {\n        code: \"LV\",\n        name: \"Latvia\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"lv-LV\"\n    },\n    [\"MT\"]: {\n        code: \"MT\",\n        name: \"Malta\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"mt-MT\"\n    },\n    [\"NL\"]: {\n        code: \"NL\",\n        name: \"Netherlands\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"nl-NL\"\n    },\n    [\"PT\"]: {\n        code: \"PT\",\n        name: \"Portugal\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"pt-PT\"\n    },\n    [\"SI\"]: {\n        code: \"SI\",\n        name: \"Slovenia\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"sl-SI\"\n    },\n    [\"SK\"]: {\n        code: \"SK\",\n        name: \"Slovakia\",\n        currency: \"eur\",\n        platform: 1,\n        locale: \"sk-SK\"\n    },\n    [\"GB\"]: {\n        code: \"GB\",\n        name: \"United Kingdom\",\n        currency: \"gbp\",\n        platform: 0,\n        locale: \"en-GB\"\n    }\n};\nconst isSupportedCountry = (country)=>{\n    return Object.values(SupportedCountry).includes(country);\n};\nconst getPlatformStripeAccountForCountry = (country)=>{\n    return CountryConfigMap[country].platform;\n};\nconst getSupportedCountryConfigsInRegion = (country)=>{\n    const platform = getPlatformStripeAccountForCountry(country);\n    const countryConfigs = Object.values(CountryConfigMap).filter((config)=>config.platform === platform);\n    return countryConfigs;\n};\nconst keyPresent = (key)=>!!key && key.length > 0 && key != \"none\";\nconst enabledPlatforms = ()=>{\n    const ukEnabled = keyPresent(process.env.STRIPE_SECRET_KEY_UK) && keyPresent(\"pk_test_51OngAdJO3MMxyBhk4BBNr0C0AwVYr3bK4AmjznkKtRZMdYUC3ssRNXWMdwQU3jyXcJp62B72zTnxdRlu4iGlFxrp00Qw9J0fQM\");\n    const euEnabled = keyPresent(process.env.STRIPE_SECRET_KEY_EU) && keyPresent(\"pk_test_51OngAdJO3MMxyBhk4BBNr0C0AwVYr3bK4AmjznkKtRZMdYUC3ssRNXWMdwQU3jyXcJp62B72zTnxdRlu4iGlFxrp00Qw9J0fQM\");\n    return {\n        [0]: ukEnabled,\n        [1]: euEnabled\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvYWNjb3VudC1tYW5hZ2VtZW50LWhlbHBlcnMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O1VBQVlBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBQUFBLHFCQUFBQTs7VUF3QkFDOzs7O0dBQUFBLGFBQUFBOztVQU1BQzs7O0dBQUFBLDBCQUFBQTtBQWtCTCxNQUFNQyxtQkFBNEQ7SUFDdkUsTUFBcUIsRUFBRTtRQUNyQkMsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsUUFBUTtRQUNSQyxRQUFRO0lBQ1Y7SUFDQSxNQUFxQixFQUFFO1FBQ3JCSixNQUFNO1FBQ05DLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxRQUFRO1FBQ1JDLFFBQVE7SUFDVjtJQUNBLE1BQXFCLEVBQUU7UUFDckJKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0lBQ0EsTUFBcUIsRUFBRTtRQUNyQkosTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsUUFBUTtRQUNSQyxRQUFRO0lBQ1Y7SUFDQSxNQUFxQixFQUFFO1FBQ3JCSixNQUFNO1FBQ05DLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxRQUFRO1FBQ1JDLFFBQVE7SUFDVjtJQUNBLE1BQXFCLEVBQUU7UUFDckJKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0lBQ0EsTUFBcUIsRUFBRTtRQUNyQkosTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsUUFBUTtRQUNSQyxRQUFRO0lBQ1Y7SUFDQSxNQUFxQixFQUFFO1FBQ3JCSixNQUFNO1FBQ05DLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxRQUFRO1FBQ1JDLFFBQVE7SUFDVjtJQUNBLE1BQXFCLEVBQUU7UUFDckJKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0lBQ0EsTUFBcUIsRUFBRTtRQUNyQkosTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsUUFBUTtRQUNSQyxRQUFRO0lBQ1Y7SUFDQSxNQUFxQixFQUFFO1FBQ3JCSixNQUFNO1FBQ05DLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxRQUFRO1FBQ1JDLFFBQVE7SUFDVjtJQUNBLE1BQXFCLEVBQUU7UUFDckJKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0lBQ0EsTUFBcUIsRUFBRTtRQUNyQkosTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsUUFBUTtRQUNSQyxRQUFRO0lBQ1Y7SUFDQSxNQUFxQixFQUFFO1FBQ3JCSixNQUFNO1FBQ05DLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxRQUFRO1FBQ1JDLFFBQVE7SUFDVjtJQUNBLE1BQXFCLEVBQUU7UUFDckJKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0lBQ0EsTUFBcUIsRUFBRTtRQUNyQkosTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsUUFBUTtRQUNSQyxRQUFRO0lBQ1Y7SUFDQSxNQUFxQixFQUFFO1FBQ3JCSixNQUFNO1FBQ05DLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxRQUFRO1FBQ1JDLFFBQVE7SUFDVjtJQUNBLE1BQXFCLEVBQUU7UUFDckJKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0lBQ0EsTUFBcUIsRUFBRTtRQUNyQkosTUFBTTtRQUNOQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsUUFBUTtRQUNSQyxRQUFRO0lBQ1Y7SUFDQSxNQUFxQixFQUFFO1FBQ3JCSixNQUFNO1FBQ05DLE1BQU07UUFDTkMsUUFBUTtRQUNSQyxRQUFRO1FBQ1JDLFFBQVE7SUFDVjtJQUNBLE1BQXFCLEVBQUU7UUFDckJKLE1BQU07UUFDTkMsTUFBTTtRQUNOQyxRQUFRO1FBQ1JDLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0FBQ0YsRUFBRTtBQUVLLE1BQU1DLHFCQUFxQixDQUNoQ0M7SUFFQSxPQUFPQyxPQUFPQyxNQUFNLENBQUNaLGtCQUFrQmEsUUFBUSxDQUFDSDtBQUNsRCxFQUFFO0FBRUssTUFBTUkscUNBQXFDLENBQ2hESjtJQUVBLE9BQU9QLGdCQUFnQixDQUFDTyxRQUFRLENBQUNILFFBQVE7QUFDM0MsRUFBRTtBQUVLLE1BQU1RLHFDQUFxQyxDQUNoREw7SUFFQSxNQUFNSCxXQUFXTyxtQ0FBbUNKO0lBQ3BELE1BQU1NLGlCQUFpQkwsT0FBT0MsTUFBTSxDQUFDVCxrQkFBa0JjLE1BQU0sQ0FDM0QsQ0FBQ0MsU0FBV0EsT0FBT1gsUUFBUSxLQUFLQTtJQUVsQyxPQUFPUztBQUNULEVBQUU7QUFFRixNQUFNRyxhQUFhLENBQUNDLE1BQ2xCLENBQUMsQ0FBQ0EsT0FBT0EsSUFBSUMsTUFBTSxHQUFHLEtBQUtELE9BQU87QUFFN0IsTUFBTUUsbUJBQW1CO0lBQzlCLE1BQU1DLFlBQ0pKLFdBQVdLLFFBQVFDLEdBQUcsQ0FBQ0Msb0JBQW9CLEtBQzNDUCxXQUFXSyw2R0FBaUQ7SUFFOUQsTUFBTUksWUFDSlQsV0FBV0ssUUFBUUMsR0FBRyxDQUFDSSxvQkFBb0IsS0FDM0NWLFdBQVdLLDZHQUFpRDtJQUU5RCxPQUFPO1FBQ0wsR0FBMEIsRUFBRUQ7UUFDNUIsR0FBMEIsRUFBRUs7SUFDOUI7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwZW5zZS1tYW5hZ2VtZW50Ly4vc3JjL3V0aWxzL2FjY291bnQtbWFuYWdlbWVudC1oZWxwZXJzLnRzPzUyYjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gU3VwcG9ydGVkQ291bnRyeSB7XG4gIEFUID0gXCJBVFwiLFxuICBCRSA9IFwiQkVcIixcbiAgQ1kgPSBcIkNZXCIsXG4gIERFID0gXCJERVwiLFxuICBFRSA9IFwiRUVcIixcbiAgRVMgPSBcIkVTXCIsXG4gIEZJID0gXCJGSVwiLFxuICBGUiA9IFwiRlJcIixcbiAgR1IgPSBcIkdSXCIsXG4gIEhSID0gXCJIUlwiLFxuICBJRSA9IFwiSUVcIixcbiAgSVQgPSBcIklUXCIsXG4gIExUID0gXCJMVFwiLFxuICBMVSA9IFwiTFVcIixcbiAgTFYgPSBcIkxWXCIsXG4gIE1UID0gXCJNVFwiLFxuICBOTCA9IFwiTkxcIixcbiAgUFQgPSBcIlBUXCIsXG4gIFNJID0gXCJTSVwiLFxuICBTSyA9IFwiU0tcIixcbiAgVUsgPSBcIkdCXCIsXG59XG5cbmV4cG9ydCBlbnVtIEN1cnJlbmN5IHtcbiAgVVNEID0gXCJ1c2RcIixcbiAgR0JQID0gXCJnYnBcIixcbiAgRVVSID0gXCJldXJcIixcbn1cblxuZXhwb3J0IGVudW0gUGxhdGZvcm1TdHJpcGVBY2NvdW50IHtcbiAgVUssXG4gIEVVLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmlwZUFjY291bnQge1xuICBhY2NvdW50SWQ6IHN0cmluZztcbiAgcGxhdGZvcm06IFBsYXRmb3JtU3RyaXBlQWNjb3VudDtcbn1cblxudHlwZSBDb3VudHJ5Q29uZmlnID0ge1xuICBjb2RlOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgY3VycmVuY3k6IEN1cnJlbmN5O1xuICBwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50O1xuICBsb2NhbGU6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjb25zdCBDb3VudHJ5Q29uZmlnTWFwOiBSZWNvcmQ8U3VwcG9ydGVkQ291bnRyeSwgQ291bnRyeUNvbmZpZz4gPSB7XG4gIFtTdXBwb3J0ZWRDb3VudHJ5LkFUXToge1xuICAgIGNvZGU6IFwiQVRcIixcbiAgICBuYW1lOiBcIkF1c3RyaWFcIixcbiAgICBjdXJyZW5jeTogQ3VycmVuY3kuRVVSLFxuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybVN0cmlwZUFjY291bnQuRVUsXG4gICAgbG9jYWxlOiBcImRlLUFUXCIsXG4gIH0sXG4gIFtTdXBwb3J0ZWRDb3VudHJ5LkJFXToge1xuICAgIGNvZGU6IFwiQkVcIixcbiAgICBuYW1lOiBcIkJlbGdpdW1cIixcbiAgICBjdXJyZW5jeTogQ3VycmVuY3kuRVVSLFxuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybVN0cmlwZUFjY291bnQuRVUsXG4gICAgbG9jYWxlOiBcImZyLUJFXCIsXG4gIH0sXG4gIFtTdXBwb3J0ZWRDb3VudHJ5LkNZXToge1xuICAgIGNvZGU6IFwiQ1lcIixcbiAgICBuYW1lOiBcIkN5cHJ1c1wiLFxuICAgIGN1cnJlbmN5OiBDdXJyZW5jeS5FVVIsXG4gICAgcGxhdGZvcm06IFBsYXRmb3JtU3RyaXBlQWNjb3VudC5FVSxcbiAgICBsb2NhbGU6IFwiZWwtQ1lcIixcbiAgfSxcbiAgW1N1cHBvcnRlZENvdW50cnkuREVdOiB7XG4gICAgY29kZTogXCJERVwiLFxuICAgIG5hbWU6IFwiR2VybWFueVwiLFxuICAgIGN1cnJlbmN5OiBDdXJyZW5jeS5FVVIsXG4gICAgcGxhdGZvcm06IFBsYXRmb3JtU3RyaXBlQWNjb3VudC5FVSxcbiAgICBsb2NhbGU6IFwiZGUtREVcIixcbiAgfSxcbiAgW1N1cHBvcnRlZENvdW50cnkuRUVdOiB7XG4gICAgY29kZTogXCJFRVwiLFxuICAgIG5hbWU6IFwiRXN0b25pYVwiLFxuICAgIGN1cnJlbmN5OiBDdXJyZW5jeS5FVVIsXG4gICAgcGxhdGZvcm06IFBsYXRmb3JtU3RyaXBlQWNjb3VudC5FVSxcbiAgICBsb2NhbGU6IFwiZXQtRUVcIixcbiAgfSxcbiAgW1N1cHBvcnRlZENvdW50cnkuRVNdOiB7XG4gICAgY29kZTogXCJFU1wiLFxuICAgIG5hbWU6IFwiU3BhaW5cIixcbiAgICBjdXJyZW5jeTogQ3VycmVuY3kuRVVSLFxuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybVN0cmlwZUFjY291bnQuRVUsXG4gICAgbG9jYWxlOiBcImVzLUVTXCIsXG4gIH0sXG4gIFtTdXBwb3J0ZWRDb3VudHJ5LkZJXToge1xuICAgIGNvZGU6IFwiRklcIixcbiAgICBuYW1lOiBcIkZpbmxhbmRcIixcbiAgICBjdXJyZW5jeTogQ3VycmVuY3kuRVVSLFxuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybVN0cmlwZUFjY291bnQuRVUsXG4gICAgbG9jYWxlOiBcImZpLUZJXCIsXG4gIH0sXG4gIFtTdXBwb3J0ZWRDb3VudHJ5LkZSXToge1xuICAgIGNvZGU6IFwiRlJcIixcbiAgICBuYW1lOiBcIkZyYW5jZVwiLFxuICAgIGN1cnJlbmN5OiBDdXJyZW5jeS5FVVIsXG4gICAgcGxhdGZvcm06IFBsYXRmb3JtU3RyaXBlQWNjb3VudC5FVSxcbiAgICBsb2NhbGU6IFwiZnItRlJcIixcbiAgfSxcbiAgW1N1cHBvcnRlZENvdW50cnkuR1JdOiB7XG4gICAgY29kZTogXCJHUlwiLFxuICAgIG5hbWU6IFwiR3JlZWNlXCIsXG4gICAgY3VycmVuY3k6IEN1cnJlbmN5LkVVUixcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50LkVVLFxuICAgIGxvY2FsZTogXCJlbC1HUlwiLFxuICB9LFxuICBbU3VwcG9ydGVkQ291bnRyeS5IUl06IHtcbiAgICBjb2RlOiBcIkhSXCIsXG4gICAgbmFtZTogXCJDcm9hdGlhXCIsXG4gICAgY3VycmVuY3k6IEN1cnJlbmN5LkVVUixcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50LkVVLFxuICAgIGxvY2FsZTogXCJoci1IUlwiLFxuICB9LFxuICBbU3VwcG9ydGVkQ291bnRyeS5JRV06IHtcbiAgICBjb2RlOiBcIklFXCIsXG4gICAgbmFtZTogXCJJcmVsYW5kXCIsXG4gICAgY3VycmVuY3k6IEN1cnJlbmN5LkVVUixcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50LkVVLFxuICAgIGxvY2FsZTogXCJlbi1JRVwiLFxuICB9LFxuICBbU3VwcG9ydGVkQ291bnRyeS5JVF06IHtcbiAgICBjb2RlOiBcIklUXCIsXG4gICAgbmFtZTogXCJJdGFseVwiLFxuICAgIGN1cnJlbmN5OiBDdXJyZW5jeS5FVVIsXG4gICAgcGxhdGZvcm06IFBsYXRmb3JtU3RyaXBlQWNjb3VudC5FVSxcbiAgICBsb2NhbGU6IFwiaXQtSVRcIixcbiAgfSxcbiAgW1N1cHBvcnRlZENvdW50cnkuTFRdOiB7XG4gICAgY29kZTogXCJMVFwiLFxuICAgIG5hbWU6IFwiTGl0aHVhbmlhXCIsXG4gICAgY3VycmVuY3k6IEN1cnJlbmN5LkVVUixcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50LkVVLFxuICAgIGxvY2FsZTogXCJsdC1MVFwiLFxuICB9LFxuICBbU3VwcG9ydGVkQ291bnRyeS5MVV06IHtcbiAgICBjb2RlOiBcIkxVXCIsXG4gICAgbmFtZTogXCJMdXhlbWJvdXJnXCIsXG4gICAgY3VycmVuY3k6IEN1cnJlbmN5LkVVUixcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50LkVVLFxuICAgIGxvY2FsZTogXCJsYi1MVVwiLFxuICB9LFxuICBbU3VwcG9ydGVkQ291bnRyeS5MVl06IHtcbiAgICBjb2RlOiBcIkxWXCIsXG4gICAgbmFtZTogXCJMYXR2aWFcIixcbiAgICBjdXJyZW5jeTogQ3VycmVuY3kuRVVSLFxuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybVN0cmlwZUFjY291bnQuRVUsXG4gICAgbG9jYWxlOiBcImx2LUxWXCIsXG4gIH0sXG4gIFtTdXBwb3J0ZWRDb3VudHJ5Lk1UXToge1xuICAgIGNvZGU6IFwiTVRcIixcbiAgICBuYW1lOiBcIk1hbHRhXCIsXG4gICAgY3VycmVuY3k6IEN1cnJlbmN5LkVVUixcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50LkVVLFxuICAgIGxvY2FsZTogXCJtdC1NVFwiLFxuICB9LFxuICBbU3VwcG9ydGVkQ291bnRyeS5OTF06IHtcbiAgICBjb2RlOiBcIk5MXCIsXG4gICAgbmFtZTogXCJOZXRoZXJsYW5kc1wiLFxuICAgIGN1cnJlbmN5OiBDdXJyZW5jeS5FVVIsXG4gICAgcGxhdGZvcm06IFBsYXRmb3JtU3RyaXBlQWNjb3VudC5FVSxcbiAgICBsb2NhbGU6IFwibmwtTkxcIixcbiAgfSxcbiAgW1N1cHBvcnRlZENvdW50cnkuUFRdOiB7XG4gICAgY29kZTogXCJQVFwiLFxuICAgIG5hbWU6IFwiUG9ydHVnYWxcIixcbiAgICBjdXJyZW5jeTogQ3VycmVuY3kuRVVSLFxuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybVN0cmlwZUFjY291bnQuRVUsXG4gICAgbG9jYWxlOiBcInB0LVBUXCIsXG4gIH0sXG4gIFtTdXBwb3J0ZWRDb3VudHJ5LlNJXToge1xuICAgIGNvZGU6IFwiU0lcIixcbiAgICBuYW1lOiBcIlNsb3ZlbmlhXCIsXG4gICAgY3VycmVuY3k6IEN1cnJlbmN5LkVVUixcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50LkVVLFxuICAgIGxvY2FsZTogXCJzbC1TSVwiLFxuICB9LFxuICBbU3VwcG9ydGVkQ291bnRyeS5TS106IHtcbiAgICBjb2RlOiBcIlNLXCIsXG4gICAgbmFtZTogXCJTbG92YWtpYVwiLFxuICAgIGN1cnJlbmN5OiBDdXJyZW5jeS5FVVIsXG4gICAgcGxhdGZvcm06IFBsYXRmb3JtU3RyaXBlQWNjb3VudC5FVSxcbiAgICBsb2NhbGU6IFwic2stU0tcIixcbiAgfSxcbiAgW1N1cHBvcnRlZENvdW50cnkuVUtdOiB7XG4gICAgY29kZTogXCJHQlwiLFxuICAgIG5hbWU6IFwiVW5pdGVkIEtpbmdkb21cIixcbiAgICBjdXJyZW5jeTogQ3VycmVuY3kuR0JQLFxuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybVN0cmlwZUFjY291bnQuVUssXG4gICAgbG9jYWxlOiBcImVuLUdCXCIsXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgaXNTdXBwb3J0ZWRDb3VudHJ5ID0gKFxuICBjb3VudHJ5OiB1bmtub3duLFxuKTogY291bnRyeSBpcyBTdXBwb3J0ZWRDb3VudHJ5ID0+IHtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoU3VwcG9ydGVkQ291bnRyeSkuaW5jbHVkZXMoY291bnRyeSBhcyBTdXBwb3J0ZWRDb3VudHJ5KTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRQbGF0Zm9ybVN0cmlwZUFjY291bnRGb3JDb3VudHJ5ID0gKFxuICBjb3VudHJ5OiBTdXBwb3J0ZWRDb3VudHJ5LFxuKTogUGxhdGZvcm1TdHJpcGVBY2NvdW50ID0+IHtcbiAgcmV0dXJuIENvdW50cnlDb25maWdNYXBbY291bnRyeV0ucGxhdGZvcm07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3VwcG9ydGVkQ291bnRyeUNvbmZpZ3NJblJlZ2lvbiA9IChcbiAgY291bnRyeTogU3VwcG9ydGVkQ291bnRyeSxcbik6IENvdW50cnlDb25maWdbXSA9PiB7XG4gIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm1TdHJpcGVBY2NvdW50Rm9yQ291bnRyeShjb3VudHJ5KTtcbiAgY29uc3QgY291bnRyeUNvbmZpZ3MgPSBPYmplY3QudmFsdWVzKENvdW50cnlDb25maWdNYXApLmZpbHRlcihcbiAgICAoY29uZmlnKSA9PiBjb25maWcucGxhdGZvcm0gPT09IHBsYXRmb3JtLFxuICApO1xuICByZXR1cm4gY291bnRyeUNvbmZpZ3M7XG59O1xuXG5jb25zdCBrZXlQcmVzZW50ID0gKGtleTogc3RyaW5nIHwgdW5kZWZpbmVkKTogYm9vbGVhbiA9PlxuICAhIWtleSAmJiBrZXkubGVuZ3RoID4gMCAmJiBrZXkgIT0gXCJub25lXCI7XG5cbmV4cG9ydCBjb25zdCBlbmFibGVkUGxhdGZvcm1zID0gKCkgPT4ge1xuICBjb25zdCB1a0VuYWJsZWQgPVxuICAgIGtleVByZXNlbnQocHJvY2Vzcy5lbnYuU1RSSVBFX1NFQ1JFVF9LRVlfVUspICYmXG4gICAga2V5UHJlc2VudChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVFJJUEVfUFVCTElTSEFCTEVfS0VZX1VLKTtcblxuICBjb25zdCBldUVuYWJsZWQgPVxuICAgIGtleVByZXNlbnQocHJvY2Vzcy5lbnYuU1RSSVBFX1NFQ1JFVF9LRVlfRVUpICYmXG4gICAga2V5UHJlc2VudChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVFJJUEVfUFVCTElTSEFCTEVfS0VZX0VVKTtcblxuICByZXR1cm4ge1xuICAgIFtQbGF0Zm9ybVN0cmlwZUFjY291bnQuVUtdOiB1a0VuYWJsZWQsXG4gICAgW1BsYXRmb3JtU3RyaXBlQWNjb3VudC5FVV06IGV1RW5hYmxlZCxcbiAgfTtcbn07XG4iXSwibmFtZXMiOlsiU3VwcG9ydGVkQ291bnRyeSIsIkN1cnJlbmN5IiwiUGxhdGZvcm1TdHJpcGVBY2NvdW50IiwiQ291bnRyeUNvbmZpZ01hcCIsImNvZGUiLCJuYW1lIiwiY3VycmVuY3kiLCJwbGF0Zm9ybSIsImxvY2FsZSIsImlzU3VwcG9ydGVkQ291bnRyeSIsImNvdW50cnkiLCJPYmplY3QiLCJ2YWx1ZXMiLCJpbmNsdWRlcyIsImdldFBsYXRmb3JtU3RyaXBlQWNjb3VudEZvckNvdW50cnkiLCJnZXRTdXBwb3J0ZWRDb3VudHJ5Q29uZmlnc0luUmVnaW9uIiwiY291bnRyeUNvbmZpZ3MiLCJmaWx0ZXIiLCJjb25maWciLCJrZXlQcmVzZW50Iiwia2V5IiwibGVuZ3RoIiwiZW5hYmxlZFBsYXRmb3JtcyIsInVrRW5hYmxlZCIsInByb2Nlc3MiLCJlbnYiLCJTVFJJUEVfU0VDUkVUX0tFWV9VSyIsIk5FWFRfUFVCTElDX1NUUklQRV9QVUJMSVNIQUJMRV9LRVlfVUsiLCJldUVuYWJsZWQiLCJTVFJJUEVfU0VDUkVUX0tFWV9FVSIsIk5FWFRfUFVCTElDX1NUUklQRV9QVUJMSVNIQUJMRV9LRVlfRVUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/utils/account-management-helpers.ts\n");

/***/ }),

/***/ "(api)/./src/utils/authentication.ts":
/*!*************************************!*\
  !*** ./src/utils/authentication.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authenticateUser: () => (/* binding */ authenticateUser)\n/* harmony export */ });\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n/* harmony import */ var bcrypt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcrypt__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var src_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/db */ \"(api)/./src/db.ts\");\n/* harmony import */ var src_utils_account_management_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/utils/account-management-helpers */ \"(api)/./src/utils/account-management-helpers.ts\");\n/* harmony import */ var src_utils_onboarding_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/utils/onboarding-helpers */ \"(api)/./src/utils/onboarding-helpers.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([src_utils_onboarding_helpers__WEBPACK_IMPORTED_MODULE_3__]);\nsrc_utils_onboarding_helpers__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst authenticateUser = async (email, password)=>{\n    const userToAuthenticate = await src_db__WEBPACK_IMPORTED_MODULE_1__.prisma.user.findFirst({\n        where: {\n            email\n        }\n    });\n    const passwordMatch = await bcrypt__WEBPACK_IMPORTED_MODULE_0___default().compare(password, userToAuthenticate?.password || \"\");\n    if (userToAuthenticate && passwordMatch) {\n        const user = await src_db__WEBPACK_IMPORTED_MODULE_1__.prisma.user.update({\n            where: {\n                id: userToAuthenticate.id\n            },\n            data: {\n                lastLoginAt: new Date()\n            }\n        });\n        if (!(0,src_utils_account_management_helpers__WEBPACK_IMPORTED_MODULE_2__.isSupportedCountry)(user.country)) {\n            throw new Error(`Unsupported country ${user.country}`);\n        }\n        const stripeAccount = {\n            accountId: user.accountId,\n            platform: (0,src_utils_account_management_helpers__WEBPACK_IMPORTED_MODULE_2__.getPlatformStripeAccountForCountry)(user.country)\n        };\n        const requiresOnboarding = await (0,src_utils_onboarding_helpers__WEBPACK_IMPORTED_MODULE_3__.hasOutstandingRequirements)(stripeAccount);\n        // User session context setup flow step 1:\n        // This is the object that will be available as `user` in the `jwt` callback in [...nextauth].ts\n        return {\n            id: user.id.toString(),\n            email: user.email,\n            accountId: user.accountId,\n            country: user.country,\n            requiresOnboarding: requiresOnboarding\n        };\n    }\n    return null;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvYXV0aGVudGljYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQTRCO0FBRUk7QUFLYztBQUM0QjtBQUVuRSxNQUFNSyxtQkFBbUIsT0FBT0MsT0FBZUM7SUFDcEQsTUFBTUMscUJBQXFCLE1BQU1QLDBDQUFNQSxDQUFDUSxJQUFJLENBQUNDLFNBQVMsQ0FBQztRQUNyREMsT0FBTztZQUFFTDtRQUFNO0lBQ2pCO0lBRUEsTUFBTU0sZ0JBQWdCLE1BQU1aLHFEQUFjLENBQ3hDTyxVQUNBQyxvQkFBb0JELFlBQVk7SUFHbEMsSUFBSUMsc0JBQXNCSSxlQUFlO1FBQ3ZDLE1BQU1ILE9BQU8sTUFBTVIsMENBQU1BLENBQUNRLElBQUksQ0FBQ0ssTUFBTSxDQUFDO1lBQ3BDSCxPQUFPO2dCQUFFSSxJQUFJUCxtQkFBbUJPLEVBQUU7WUFBQztZQUNuQ0MsTUFBTTtnQkFBRUMsYUFBYSxJQUFJQztZQUFPO1FBQ2xDO1FBRUEsSUFBSSxDQUFDZix3RkFBa0JBLENBQUNNLEtBQUtVLE9BQU8sR0FBRztZQUNyQyxNQUFNLElBQUlDLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRVgsS0FBS1UsT0FBTyxDQUFDLENBQUM7UUFDdkQ7UUFFQSxNQUFNRSxnQkFBZ0I7WUFDcEJDLFdBQVdiLEtBQUthLFNBQVM7WUFDekJDLFVBQVVyQix3R0FBa0NBLENBQzFDTyxLQUFLVSxPQUFPO1FBRWhCO1FBRUEsTUFBTUsscUJBQXFCLE1BQU1wQix3RkFBMEJBLENBQUNpQjtRQUU1RCwwQ0FBMEM7UUFDMUMsZ0dBQWdHO1FBQ2hHLE9BQU87WUFDTE4sSUFBSU4sS0FBS00sRUFBRSxDQUFDVSxRQUFRO1lBQ3BCbkIsT0FBT0csS0FBS0gsS0FBSztZQUNqQmdCLFdBQVdiLEtBQUthLFNBQVM7WUFDekJILFNBQVNWLEtBQUtVLE9BQU87WUFDckJLLG9CQUFvQkE7UUFDdEI7SUFDRjtJQUVBLE9BQU87QUFDVCxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwZW5zZS1tYW5hZ2VtZW50Ly4vc3JjL3V0aWxzL2F1dGhlbnRpY2F0aW9uLnRzP2I3ZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tIFwiYmNyeXB0XCI7XG5cbmltcG9ydCB7IHByaXNtYSB9IGZyb20gXCJzcmMvZGJcIjtcbmltcG9ydCB7XG4gIGdldFBsYXRmb3JtU3RyaXBlQWNjb3VudEZvckNvdW50cnksXG4gIGlzU3VwcG9ydGVkQ291bnRyeSxcbiAgU3VwcG9ydGVkQ291bnRyeSxcbn0gZnJvbSBcInNyYy91dGlscy9hY2NvdW50LW1hbmFnZW1lbnQtaGVscGVyc1wiO1xuaW1wb3J0IHsgaGFzT3V0c3RhbmRpbmdSZXF1aXJlbWVudHMgfSBmcm9tIFwic3JjL3V0aWxzL29uYm9hcmRpbmctaGVscGVyc1wiO1xuXG5leHBvcnQgY29uc3QgYXV0aGVudGljYXRlVXNlciA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IHVzZXJUb0F1dGhlbnRpY2F0ZSA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgZW1haWwgfSxcbiAgfSk7XG5cbiAgY29uc3QgcGFzc3dvcmRNYXRjaCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKFxuICAgIHBhc3N3b3JkLFxuICAgIHVzZXJUb0F1dGhlbnRpY2F0ZT8ucGFzc3dvcmQgfHwgXCJcIixcbiAgKTtcblxuICBpZiAodXNlclRvQXV0aGVudGljYXRlICYmIHBhc3N3b3JkTWF0Y2gpIHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIudXBkYXRlKHtcbiAgICAgIHdoZXJlOiB7IGlkOiB1c2VyVG9BdXRoZW50aWNhdGUuaWQgfSxcbiAgICAgIGRhdGE6IHsgbGFzdExvZ2luQXQ6IG5ldyBEYXRlKCkgfSxcbiAgICB9KTtcblxuICAgIGlmICghaXNTdXBwb3J0ZWRDb3VudHJ5KHVzZXIuY291bnRyeSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY291bnRyeSAke3VzZXIuY291bnRyeX1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJpcGVBY2NvdW50ID0ge1xuICAgICAgYWNjb3VudElkOiB1c2VyLmFjY291bnRJZCxcbiAgICAgIHBsYXRmb3JtOiBnZXRQbGF0Zm9ybVN0cmlwZUFjY291bnRGb3JDb3VudHJ5KFxuICAgICAgICB1c2VyLmNvdW50cnkgYXMgdW5rbm93biBhcyBTdXBwb3J0ZWRDb3VudHJ5LFxuICAgICAgKSxcbiAgICB9O1xuXG4gICAgY29uc3QgcmVxdWlyZXNPbmJvYXJkaW5nID0gYXdhaXQgaGFzT3V0c3RhbmRpbmdSZXF1aXJlbWVudHMoc3RyaXBlQWNjb3VudCk7XG5cbiAgICAvLyBVc2VyIHNlc3Npb24gY29udGV4dCBzZXR1cCBmbG93IHN0ZXAgMTpcbiAgICAvLyBUaGlzIGlzIHRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIGF2YWlsYWJsZSBhcyBgdXNlcmAgaW4gdGhlIGBqd3RgIGNhbGxiYWNrIGluIFsuLi5uZXh0YXV0aF0udHNcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IHVzZXIuaWQudG9TdHJpbmcoKSxcbiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgYWNjb3VudElkOiB1c2VyLmFjY291bnRJZCxcbiAgICAgIGNvdW50cnk6IHVzZXIuY291bnRyeSxcbiAgICAgIHJlcXVpcmVzT25ib2FyZGluZzogcmVxdWlyZXNPbmJvYXJkaW5nLFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn07XG4iXSwibmFtZXMiOlsiYmNyeXB0IiwicHJpc21hIiwiZ2V0UGxhdGZvcm1TdHJpcGVBY2NvdW50Rm9yQ291bnRyeSIsImlzU3VwcG9ydGVkQ291bnRyeSIsImhhc091dHN0YW5kaW5nUmVxdWlyZW1lbnRzIiwiYXV0aGVudGljYXRlVXNlciIsImVtYWlsIiwicGFzc3dvcmQiLCJ1c2VyVG9BdXRoZW50aWNhdGUiLCJ1c2VyIiwiZmluZEZpcnN0Iiwid2hlcmUiLCJwYXNzd29yZE1hdGNoIiwiY29tcGFyZSIsInVwZGF0ZSIsImlkIiwiZGF0YSIsImxhc3RMb2dpbkF0IiwiRGF0ZSIsImNvdW50cnkiLCJFcnJvciIsInN0cmlwZUFjY291bnQiLCJhY2NvdW50SWQiLCJwbGF0Zm9ybSIsInJlcXVpcmVzT25ib2FyZGluZyIsInRvU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/utils/authentication.ts\n");

/***/ }),

/***/ "(api)/./src/utils/logger.ts":
/*!*****************************!*\
  !*** ./src/utils/logger.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst logLevels = {\n    debug: 0,\n    info: 1,\n    warn: 2,\n    error: 3\n};\n// Determine the current log level from the environment variable or default to \"info\"\nconst currentLogLevel = process.env.LOG_LEVEL || \"info\";\n// Check if a message at the given level should be logged\nconst shouldLog = (level)=>{\n    return logLevels[level] >= logLevels[currentLogLevel];\n};\n// ANSI escape codes for colors and styles\nconst colors = {\n    reset: \"\\x1b[0m\",\n    bright: \"\\x1b[1m\",\n    dim: \"\\x1b[2m\",\n    // Foreground (text) colors\n    fg: {\n        red: \"\\x1b[31m\",\n        green: \"\\x1b[32m\",\n        yellow: \"\\x1b[33m\",\n        blue: \"\\x1b[34m\"\n    }\n};\nconst logger = {\n    debug: (...args)=>{\n        if (shouldLog(\"debug\")) {\n            // eslint-disable-next-line no-console\n            console.debug(colors.bright, colors.fg.blue, ...args, colors.reset);\n        }\n    },\n    info: (...args)=>{\n        if (shouldLog(\"info\")) {\n            // eslint-disable-next-line no-console\n            console.info(colors.fg.green, ...args, colors.reset);\n        }\n    },\n    warn: (...args)=>{\n        if (shouldLog(\"warn\")) {\n            // eslint-disable-next-line no-console\n            console.warn(colors.fg.yellow, ...args, colors.reset);\n        }\n    },\n    error: (...args)=>{\n        if (shouldLog(\"error\")) {\n            // eslint-disable-next-line no-console\n            console.error(colors.fg.red, ...args, colors.reset);\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (logger);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvbG9nZ2VyLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFDQSxNQUFNQSxZQUFzQztJQUMxQ0MsT0FBTztJQUNQQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsT0FBTztBQUNUO0FBRUEscUZBQXFGO0FBQ3JGLE1BQU1DLGtCQUE0QixRQUFTRSxHQUFHLENBQUNDLFNBQVMsSUFBaUI7QUFFekUseURBQXlEO0FBQ3pELE1BQU1DLFlBQVksQ0FBQ0M7SUFDakIsT0FBT1YsU0FBUyxDQUFDVSxNQUFNLElBQUlWLFNBQVMsQ0FBQ0ssZ0JBQWdCO0FBQ3ZEO0FBRUEsMENBQTBDO0FBQzFDLE1BQU1NLFNBQVM7SUFDYkMsT0FBTztJQUNQQyxRQUFRO0lBQ1JDLEtBQUs7SUFFTCwyQkFBMkI7SUFDM0JDLElBQUk7UUFDRkMsS0FBSztRQUNMQyxPQUFPO1FBQ1BDLFFBQVE7UUFDUkMsTUFBTTtJQUVSO0FBQ0Y7QUFFQSxNQUFNQyxTQUFTO0lBQ2JuQixPQUFPLENBQUMsR0FBR29CO1FBQ1QsSUFBSVosVUFBVSxVQUFVO1lBQ3RCLHNDQUFzQztZQUN0Q2EsUUFBUXJCLEtBQUssQ0FBQ1UsT0FBT0UsTUFBTSxFQUFFRixPQUFPSSxFQUFFLENBQUNJLElBQUksS0FBS0UsTUFBTVYsT0FBT0MsS0FBSztRQUNwRTtJQUNGO0lBQ0FWLE1BQU0sQ0FBQyxHQUFHbUI7UUFDUixJQUFJWixVQUFVLFNBQVM7WUFDckIsc0NBQXNDO1lBQ3RDYSxRQUFRcEIsSUFBSSxDQUFDUyxPQUFPSSxFQUFFLENBQUNFLEtBQUssS0FBS0ksTUFBTVYsT0FBT0MsS0FBSztRQUNyRDtJQUNGO0lBQ0FULE1BQU0sQ0FBQyxHQUFHa0I7UUFDUixJQUFJWixVQUFVLFNBQVM7WUFDckIsc0NBQXNDO1lBQ3RDYSxRQUFRbkIsSUFBSSxDQUFDUSxPQUFPSSxFQUFFLENBQUNHLE1BQU0sS0FBS0csTUFBTVYsT0FBT0MsS0FBSztRQUN0RDtJQUNGO0lBQ0FSLE9BQU8sQ0FBQyxHQUFHaUI7UUFDVCxJQUFJWixVQUFVLFVBQVU7WUFDdEIsc0NBQXNDO1lBQ3RDYSxRQUFRbEIsS0FBSyxDQUFDTyxPQUFPSSxFQUFFLENBQUNDLEdBQUcsS0FBS0ssTUFBTVYsT0FBT0MsS0FBSztRQUNwRDtJQUNGO0FBQ0Y7QUFFQSxpRUFBZVEsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cGVuc2UtbWFuYWdlbWVudC8uL3NyYy91dGlscy9sb2dnZXIudHM/N2NmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIExvZ0xldmVsID0gXCJkZWJ1Z1wiIHwgXCJpbmZvXCIgfCBcIndhcm5cIiB8IFwiZXJyb3JcIjtcbmNvbnN0IGxvZ0xldmVsczogUmVjb3JkPExvZ0xldmVsLCBudW1iZXI+ID0ge1xuICBkZWJ1ZzogMCxcbiAgaW5mbzogMSxcbiAgd2FybjogMixcbiAgZXJyb3I6IDMsXG59O1xuXG4vLyBEZXRlcm1pbmUgdGhlIGN1cnJlbnQgbG9nIGxldmVsIGZyb20gdGhlIGVudmlyb25tZW50IHZhcmlhYmxlIG9yIGRlZmF1bHQgdG8gXCJpbmZvXCJcbmNvbnN0IGN1cnJlbnRMb2dMZXZlbDogTG9nTGV2ZWwgPSAocHJvY2Vzcy5lbnYuTE9HX0xFVkVMIGFzIExvZ0xldmVsKSB8fCBcImluZm9cIjtcblxuLy8gQ2hlY2sgaWYgYSBtZXNzYWdlIGF0IHRoZSBnaXZlbiBsZXZlbCBzaG91bGQgYmUgbG9nZ2VkXG5jb25zdCBzaG91bGRMb2cgPSAobGV2ZWw6IExvZ0xldmVsKTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBsb2dMZXZlbHNbbGV2ZWxdID49IGxvZ0xldmVsc1tjdXJyZW50TG9nTGV2ZWxdO1xufTtcblxuLy8gQU5TSSBlc2NhcGUgY29kZXMgZm9yIGNvbG9ycyBhbmQgc3R5bGVzXG5jb25zdCBjb2xvcnMgPSB7XG4gIHJlc2V0OiBcIlxceDFiWzBtXCIsXG4gIGJyaWdodDogXCJcXHgxYlsxbVwiLCAvLyBNYWtlcyB0ZXh0IGJvbGQvYnJpZ2h0XG4gIGRpbTogXCJcXHgxYlsybVwiLFxuXG4gIC8vIEZvcmVncm91bmQgKHRleHQpIGNvbG9yc1xuICBmZzoge1xuICAgIHJlZDogXCJcXHgxYlszMW1cIixcbiAgICBncmVlbjogXCJcXHgxYlszMm1cIixcbiAgICB5ZWxsb3c6IFwiXFx4MWJbMzNtXCIsXG4gICAgYmx1ZTogXCJcXHgxYlszNG1cIixcbiAgICAvLyBBZGQgbW9yZSBjb2xvcnMgYXMgbmVlZGVkXG4gIH0sXG59O1xuXG5jb25zdCBsb2dnZXIgPSB7XG4gIGRlYnVnOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgaWYgKHNob3VsZExvZyhcImRlYnVnXCIpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS5kZWJ1Zyhjb2xvcnMuYnJpZ2h0LCBjb2xvcnMuZmcuYmx1ZSwgLi4uYXJncywgY29sb3JzLnJlc2V0KTtcbiAgICB9XG4gIH0sXG4gIGluZm86ICguLi5hcmdzOiB1bmtub3duW10pID0+IHtcbiAgICBpZiAoc2hvdWxkTG9nKFwiaW5mb1wiKSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUuaW5mbyhjb2xvcnMuZmcuZ3JlZW4sIC4uLmFyZ3MsIGNvbG9ycy5yZXNldCk7XG4gICAgfVxuICB9LFxuICB3YXJuOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgaWYgKHNob3VsZExvZyhcIndhcm5cIikpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oY29sb3JzLmZnLnllbGxvdywgLi4uYXJncywgY29sb3JzLnJlc2V0KTtcbiAgICB9XG4gIH0sXG4gIGVycm9yOiAoLi4uYXJnczogdW5rbm93bltdKSA9PiB7XG4gICAgaWYgKHNob3VsZExvZyhcImVycm9yXCIpKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS5lcnJvcihjb2xvcnMuZmcucmVkLCAuLi5hcmdzLCBjb2xvcnMucmVzZXQpO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbiJdLCJuYW1lcyI6WyJsb2dMZXZlbHMiLCJkZWJ1ZyIsImluZm8iLCJ3YXJuIiwiZXJyb3IiLCJjdXJyZW50TG9nTGV2ZWwiLCJwcm9jZXNzIiwiZW52IiwiTE9HX0xFVkVMIiwic2hvdWxkTG9nIiwibGV2ZWwiLCJjb2xvcnMiLCJyZXNldCIsImJyaWdodCIsImRpbSIsImZnIiwicmVkIiwiZ3JlZW4iLCJ5ZWxsb3ciLCJibHVlIiwibG9nZ2VyIiwiYXJncyIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/utils/logger.ts\n");

/***/ }),

/***/ "(api)/./src/utils/onboarding-helpers.ts":
/*!*****************************************!*\
  !*** ./src/utils/onboarding-helpers.ts ***!
  \*****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAccountOnboardingUrl: () => (/* binding */ createAccountOnboardingUrl),\n/* harmony export */   hasOutstandingRequirements: () => (/* binding */ hasOutstandingRequirements)\n/* harmony export */ });\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./logger */ \"(api)/./src/utils/logger.ts\");\n/* harmony import */ var src_utils_stripe_loader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/utils/stripe-loader */ \"(api)/./src/utils/stripe-loader.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([src_utils_stripe_loader__WEBPACK_IMPORTED_MODULE_1__]);\nsrc_utils_stripe_loader__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst IGNORE_REQUIREMENTS = [\n    \"external_account\"\n];\nconst hasOutstandingRequirements = async (stripeAccount)=>{\n    const { accountId, platform } = stripeAccount;\n    const stripe = (0,src_utils_stripe_loader__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(platform);\n    const account = await stripe.accounts.retrieve(accountId);\n    const outstandingRequirements = account?.requirements?.currently_due?.filter((requirement)=>!IGNORE_REQUIREMENTS.includes(requirement));\n    _logger__WEBPACK_IMPORTED_MODULE_0__[\"default\"].debug(\"Outstanding requirements check:\", outstandingRequirements);\n    const result = (outstandingRequirements?.length ?? 0) > 0;\n    return result;\n};\nasync function createAccountOnboardingUrl(stripeAccount) {\n    if (process.env.CONNECT_ONBOARDING_REDIRECT_URL == undefined && process.env.VERCEL_URL == undefined) {\n        throw new Error(\"CONNECT_ONBOARDING_REDIRECT_URL is not set\");\n    }\n    const { accountId, platform } = stripeAccount;\n    let connectOnboardingRedirectUrl;\n    if (process.env.VERCEL_URL) {\n        connectOnboardingRedirectUrl = `https://${process.env.VERCEL_URL}`;\n    } else {\n        connectOnboardingRedirectUrl = process.env.CONNECT_ONBOARDING_REDIRECT_URL;\n    }\n    const stripe = (0,src_utils_stripe_loader__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(platform);\n    const { url } = await stripe.accountLinks.create({\n        type: \"account_onboarding\",\n        account: accountId,\n        refresh_url: connectOnboardingRedirectUrl + \"/onboard\",\n        return_url: connectOnboardingRedirectUrl + \"/\"\n    });\n    return url;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvb25ib2FyZGluZy1oZWxwZXJzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEI7QUFHcUI7QUFFbkQsTUFBTUUsc0JBQXNCO0lBQUM7Q0FBbUI7QUFFekMsTUFBTUMsNkJBQTZCLE9BQ3hDQztJQUVBLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxRQUFRLEVBQUUsR0FBR0Y7SUFDaEMsTUFBTUcsU0FBU04sbUVBQVlBLENBQUNLO0lBQzVCLE1BQU1FLFVBQVUsTUFBTUQsT0FBT0UsUUFBUSxDQUFDQyxRQUFRLENBQUNMO0lBRS9DLE1BQU1NLDBCQUEwQkgsU0FBU0ksY0FBY0MsZUFBZUMsT0FDcEUsQ0FBQ0MsY0FBZ0IsQ0FBQ2Isb0JBQW9CYyxRQUFRLENBQUNEO0lBR2pEZixxREFBWSxDQUFDLG1DQUFtQ1c7SUFFaEQsTUFBTU8sU0FBUyxDQUFDUCx5QkFBeUJRLFVBQVUsS0FBSztJQUV4RCxPQUFPRDtBQUNULEVBQUU7QUFFSyxlQUFlRSwyQkFBMkJoQixhQUE0QjtJQUMzRSxJQUNFaUIsUUFBUUMsR0FBRyxDQUFDQywrQkFBK0IsSUFBSUMsYUFDL0NILFFBQVFDLEdBQUcsQ0FBQ0csVUFBVSxJQUFJRCxXQUMxQjtRQUNBLE1BQU0sSUFBSUUsTUFBTTtJQUNsQjtJQUVBLE1BQU0sRUFBRXJCLFNBQVMsRUFBRUMsUUFBUSxFQUFFLEdBQUdGO0lBQ2hDLElBQUl1QjtJQUVKLElBQUlOLFFBQVFDLEdBQUcsQ0FBQ0csVUFBVSxFQUFFO1FBQzFCRSwrQkFBK0IsQ0FBQyxRQUFRLEVBQUVOLFFBQVFDLEdBQUcsQ0FBQ0csVUFBVSxDQUFDLENBQUM7SUFDcEUsT0FBTztRQUNMRSwrQkFBK0JOLFFBQVFDLEdBQUcsQ0FBQ0MsK0JBQStCO0lBQzVFO0lBRUEsTUFBTWhCLFNBQVNOLG1FQUFZQSxDQUFDSztJQUM1QixNQUFNLEVBQUVzQixHQUFHLEVBQUUsR0FBRyxNQUFNckIsT0FBT3NCLFlBQVksQ0FBQ0MsTUFBTSxDQUFDO1FBQy9DQyxNQUFNO1FBQ052QixTQUFTSDtRQUNUMkIsYUFBYUwsK0JBQStCO1FBQzVDTSxZQUFZTiwrQkFBK0I7SUFDN0M7SUFDQSxPQUFPQztBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwZW5zZS1tYW5hZ2VtZW50Ly4vc3JjL3V0aWxzL29uYm9hcmRpbmctaGVscGVycy50cz9iMjQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBsb2dnZXIgZnJvbSBcIi4vbG9nZ2VyXCI7XG5cbmltcG9ydCB7IFN0cmlwZUFjY291bnQgfSBmcm9tIFwic3JjL3V0aWxzL2FjY291bnQtbWFuYWdlbWVudC1oZWxwZXJzXCI7XG5pbXBvcnQgc3RyaXBlQ2xpZW50IGZyb20gXCJzcmMvdXRpbHMvc3RyaXBlLWxvYWRlclwiO1xuXG5jb25zdCBJR05PUkVfUkVRVUlSRU1FTlRTID0gW1wiZXh0ZXJuYWxfYWNjb3VudFwiXTtcblxuZXhwb3J0IGNvbnN0IGhhc091dHN0YW5kaW5nUmVxdWlyZW1lbnRzID0gYXN5bmMgKFxuICBzdHJpcGVBY2NvdW50OiBTdHJpcGVBY2NvdW50LFxuKSA9PiB7XG4gIGNvbnN0IHsgYWNjb3VudElkLCBwbGF0Zm9ybSB9ID0gc3RyaXBlQWNjb3VudDtcbiAgY29uc3Qgc3RyaXBlID0gc3RyaXBlQ2xpZW50KHBsYXRmb3JtKTtcbiAgY29uc3QgYWNjb3VudCA9IGF3YWl0IHN0cmlwZS5hY2NvdW50cy5yZXRyaWV2ZShhY2NvdW50SWQpO1xuXG4gIGNvbnN0IG91dHN0YW5kaW5nUmVxdWlyZW1lbnRzID0gYWNjb3VudD8ucmVxdWlyZW1lbnRzPy5jdXJyZW50bHlfZHVlPy5maWx0ZXIoXG4gICAgKHJlcXVpcmVtZW50KSA9PiAhSUdOT1JFX1JFUVVJUkVNRU5UUy5pbmNsdWRlcyhyZXF1aXJlbWVudCksXG4gICk7XG5cbiAgbG9nZ2VyLmRlYnVnKFwiT3V0c3RhbmRpbmcgcmVxdWlyZW1lbnRzIGNoZWNrOlwiLCBvdXRzdGFuZGluZ1JlcXVpcmVtZW50cyk7XG5cbiAgY29uc3QgcmVzdWx0ID0gKG91dHN0YW5kaW5nUmVxdWlyZW1lbnRzPy5sZW5ndGggPz8gMCkgPiAwO1xuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQWNjb3VudE9uYm9hcmRpbmdVcmwoc3RyaXBlQWNjb3VudDogU3RyaXBlQWNjb3VudCkge1xuICBpZiAoXG4gICAgcHJvY2Vzcy5lbnYuQ09OTkVDVF9PTkJPQVJESU5HX1JFRElSRUNUX1VSTCA9PSB1bmRlZmluZWQgJiZcbiAgICBwcm9jZXNzLmVudi5WRVJDRUxfVVJMID09IHVuZGVmaW5lZFxuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDT05ORUNUX09OQk9BUkRJTkdfUkVESVJFQ1RfVVJMIGlzIG5vdCBzZXRcIik7XG4gIH1cblxuICBjb25zdCB7IGFjY291bnRJZCwgcGxhdGZvcm0gfSA9IHN0cmlwZUFjY291bnQ7XG4gIGxldCBjb25uZWN0T25ib2FyZGluZ1JlZGlyZWN0VXJsO1xuXG4gIGlmIChwcm9jZXNzLmVudi5WRVJDRUxfVVJMKSB7XG4gICAgY29ubmVjdE9uYm9hcmRpbmdSZWRpcmVjdFVybCA9IGBodHRwczovLyR7cHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTH1gO1xuICB9IGVsc2Uge1xuICAgIGNvbm5lY3RPbmJvYXJkaW5nUmVkaXJlY3RVcmwgPSBwcm9jZXNzLmVudi5DT05ORUNUX09OQk9BUkRJTkdfUkVESVJFQ1RfVVJMO1xuICB9XG5cbiAgY29uc3Qgc3RyaXBlID0gc3RyaXBlQ2xpZW50KHBsYXRmb3JtKTtcbiAgY29uc3QgeyB1cmwgfSA9IGF3YWl0IHN0cmlwZS5hY2NvdW50TGlua3MuY3JlYXRlKHtcbiAgICB0eXBlOiBcImFjY291bnRfb25ib2FyZGluZ1wiLFxuICAgIGFjY291bnQ6IGFjY291bnRJZCxcbiAgICByZWZyZXNoX3VybDogY29ubmVjdE9uYm9hcmRpbmdSZWRpcmVjdFVybCArIFwiL29uYm9hcmRcIixcbiAgICByZXR1cm5fdXJsOiBjb25uZWN0T25ib2FyZGluZ1JlZGlyZWN0VXJsICsgXCIvXCIsXG4gIH0pO1xuICByZXR1cm4gdXJsO1xufVxuIl0sIm5hbWVzIjpbImxvZ2dlciIsInN0cmlwZUNsaWVudCIsIklHTk9SRV9SRVFVSVJFTUVOVFMiLCJoYXNPdXRzdGFuZGluZ1JlcXVpcmVtZW50cyIsInN0cmlwZUFjY291bnQiLCJhY2NvdW50SWQiLCJwbGF0Zm9ybSIsInN0cmlwZSIsImFjY291bnQiLCJhY2NvdW50cyIsInJldHJpZXZlIiwib3V0c3RhbmRpbmdSZXF1aXJlbWVudHMiLCJyZXF1aXJlbWVudHMiLCJjdXJyZW50bHlfZHVlIiwiZmlsdGVyIiwicmVxdWlyZW1lbnQiLCJpbmNsdWRlcyIsImRlYnVnIiwicmVzdWx0IiwibGVuZ3RoIiwiY3JlYXRlQWNjb3VudE9uYm9hcmRpbmdVcmwiLCJwcm9jZXNzIiwiZW52IiwiQ09OTkVDVF9PTkJPQVJESU5HX1JFRElSRUNUX1VSTCIsInVuZGVmaW5lZCIsIlZFUkNFTF9VUkwiLCJFcnJvciIsImNvbm5lY3RPbmJvYXJkaW5nUmVkaXJlY3RVcmwiLCJ1cmwiLCJhY2NvdW50TGlua3MiLCJjcmVhdGUiLCJ0eXBlIiwicmVmcmVzaF91cmwiLCJyZXR1cm5fdXJsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/utils/onboarding-helpers.ts\n");

/***/ }),

/***/ "(api)/./src/utils/stripe-authentication.ts":
/*!********************************************!*\
  !*** ./src/utils/stripe-authentication.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getStripePublishableKey: () => (/* binding */ getStripePublishableKey),\n/* harmony export */   getStripeSecretKey: () => (/* binding */ getStripeSecretKey)\n/* harmony export */ });\n/* harmony import */ var _account_management_helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./account-management-helpers */ \"(api)/./src/utils/account-management-helpers.ts\");\n\nconst getStripeSecretKey = (platform)=>{\n    let key;\n    switch(platform){\n        case _account_management_helpers__WEBPACK_IMPORTED_MODULE_0__.PlatformStripeAccount.UK:\n            key = process.env.STRIPE_SECRET_KEY_UK;\n            break;\n        case _account_management_helpers__WEBPACK_IMPORTED_MODULE_0__.PlatformStripeAccount.EU:\n            key = process.env.STRIPE_SECRET_KEY_EU;\n            break;\n        default:\n            throw new Error(`Unsupported platform: ${platform}`);\n    }\n    return key || null;\n};\nconst getStripePublishableKey = (platform)=>{\n    let key;\n    switch(platform){\n        case _account_management_helpers__WEBPACK_IMPORTED_MODULE_0__.PlatformStripeAccount.UK:\n            key = \"pk_test_51OngAdJO3MMxyBhk4BBNr0C0AwVYr3bK4AmjznkKtRZMdYUC3ssRNXWMdwQU3jyXcJp62B72zTnxdRlu4iGlFxrp00Qw9J0fQM\";\n            break;\n        case _account_management_helpers__WEBPACK_IMPORTED_MODULE_0__.PlatformStripeAccount.EU:\n            key = \"pk_test_51OngAdJO3MMxyBhk4BBNr0C0AwVYr3bK4AmjznkKtRZMdYUC3ssRNXWMdwQU3jyXcJp62B72zTnxdRlu4iGlFxrp00Qw9J0fQM\";\n            break;\n        default:\n            throw new Error(`Unsupported platform: ${platform}`);\n    }\n    return key || null;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvc3RyaXBlLWF1dGhlbnRpY2F0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRTtBQUVyRSxNQUFNQyxxQkFBcUIsQ0FBQ0M7SUFDMUIsSUFBSUM7SUFFSixPQUFRRDtRQUNOLEtBQUtGLDhFQUFxQkEsQ0FBQ0ksRUFBRTtZQUMzQkQsTUFBTUUsUUFBUUMsR0FBRyxDQUFDQyxvQkFBb0I7WUFDdEM7UUFDRixLQUFLUCw4RUFBcUJBLENBQUNRLEVBQUU7WUFDM0JMLE1BQU1FLFFBQVFDLEdBQUcsQ0FBQ0csb0JBQW9CO1lBQ3RDO1FBQ0Y7WUFDRSxNQUFNLElBQUlDLE1BQU0sQ0FBQyxzQkFBc0IsRUFBRVIsU0FBUyxDQUFDO0lBQ3ZEO0lBRUEsT0FBT0MsT0FBTztBQUNoQjtBQUVBLE1BQU1RLDBCQUEwQixDQUM5QlQ7SUFFQSxJQUFJQztJQUVKLE9BQVFEO1FBQ04sS0FBS0YsOEVBQXFCQSxDQUFDSSxFQUFFO1lBQzNCRCxNQUFNRSw2R0FBaUQ7WUFDdkQ7UUFDRixLQUFLTCw4RUFBcUJBLENBQUNRLEVBQUU7WUFDM0JMLE1BQU1FLDZHQUFpRDtZQUN2RDtRQUNGO1lBQ0UsTUFBTSxJQUFJSyxNQUFNLENBQUMsc0JBQXNCLEVBQUVSLFNBQVMsQ0FBQztJQUN2RDtJQUVBLE9BQU9DLE9BQU87QUFDaEI7QUFFdUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHBlbnNlLW1hbmFnZW1lbnQvLi9zcmMvdXRpbHMvc3RyaXBlLWF1dGhlbnRpY2F0aW9uLnRzPzU2OWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGxhdGZvcm1TdHJpcGVBY2NvdW50IH0gZnJvbSBcIi4vYWNjb3VudC1tYW5hZ2VtZW50LWhlbHBlcnNcIjtcblxuY29uc3QgZ2V0U3RyaXBlU2VjcmV0S2V5ID0gKHBsYXRmb3JtOiBQbGF0Zm9ybVN0cmlwZUFjY291bnQpOiBzdHJpbmcgfCBudWxsID0+IHtcbiAgbGV0IGtleTtcblxuICBzd2l0Y2ggKHBsYXRmb3JtKSB7XG4gICAgY2FzZSBQbGF0Zm9ybVN0cmlwZUFjY291bnQuVUs6XG4gICAgICBrZXkgPSBwcm9jZXNzLmVudi5TVFJJUEVfU0VDUkVUX0tFWV9VSztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgUGxhdGZvcm1TdHJpcGVBY2NvdW50LkVVOlxuICAgICAga2V5ID0gcHJvY2Vzcy5lbnYuU1RSSVBFX1NFQ1JFVF9LRVlfRVU7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwbGF0Zm9ybTogJHtwbGF0Zm9ybX1gKTtcbiAgfVxuXG4gIHJldHVybiBrZXkgfHwgbnVsbDtcbn07XG5cbmNvbnN0IGdldFN0cmlwZVB1Ymxpc2hhYmxlS2V5ID0gKFxuICBwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50LFxuKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGxldCBrZXk7XG5cbiAgc3dpdGNoIChwbGF0Zm9ybSkge1xuICAgIGNhc2UgUGxhdGZvcm1TdHJpcGVBY2NvdW50LlVLOlxuICAgICAga2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RSSVBFX1BVQkxJU0hBQkxFX0tFWV9VSztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgUGxhdGZvcm1TdHJpcGVBY2NvdW50LkVVOlxuICAgICAga2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1RSSVBFX1BVQkxJU0hBQkxFX0tFWV9FVTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBsYXRmb3JtOiAke3BsYXRmb3JtfWApO1xuICB9XG5cbiAgcmV0dXJuIGtleSB8fCBudWxsO1xufTtcblxuZXhwb3J0IHsgZ2V0U3RyaXBlU2VjcmV0S2V5LCBnZXRTdHJpcGVQdWJsaXNoYWJsZUtleSB9O1xuIl0sIm5hbWVzIjpbIlBsYXRmb3JtU3RyaXBlQWNjb3VudCIsImdldFN0cmlwZVNlY3JldEtleSIsInBsYXRmb3JtIiwia2V5IiwiVUsiLCJwcm9jZXNzIiwiZW52IiwiU1RSSVBFX1NFQ1JFVF9LRVlfVUsiLCJFVSIsIlNUUklQRV9TRUNSRVRfS0VZX0VVIiwiRXJyb3IiLCJnZXRTdHJpcGVQdWJsaXNoYWJsZUtleSIsIk5FWFRfUFVCTElDX1NUUklQRV9QVUJMSVNIQUJMRV9LRVlfVUsiLCJORVhUX1BVQkxJQ19TVFJJUEVfUFVCTElTSEFCTEVfS0VZX0VVIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/utils/stripe-authentication.ts\n");

/***/ }),

/***/ "(api)/./src/utils/stripe-loader.ts":
/*!************************************!*\
  !*** ./src/utils/stripe-loader.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var stripe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! stripe */ \"stripe\");\n/* harmony import */ var src_utils_stripe_authentication__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/utils/stripe-authentication */ \"(api)/./src/utils/stripe-authentication.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([stripe__WEBPACK_IMPORTED_MODULE_0__]);\nstripe__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nconst API_VERSION = \"2023-10-16\";\nconst APP_INFO_NAME = \"Stripe Issuing & Treasury Starter Application\";\nconst stripeClient = (platform)=>{\n    const stripeSecretKey = (0,src_utils_stripe_authentication__WEBPACK_IMPORTED_MODULE_1__.getStripeSecretKey)(platform);\n    if (!stripeSecretKey) {\n        throw new Error(\"Cannot instantiate Stripe client. STRIPE_SECRET_KEY needs to be set in environment variables.\");\n    }\n    return new stripe__WEBPACK_IMPORTED_MODULE_0__.Stripe(stripeSecretKey, {\n        apiVersion: API_VERSION,\n        typescript: true,\n        appInfo: {\n            name: APP_INFO_NAME\n        }\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stripeClient);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvdXRpbHMvc3RyaXBlLWxvYWRlci50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBZ0M7QUFHcUM7QUFFckUsTUFBTUUsY0FBYztBQUNwQixNQUFNQyxnQkFBZ0I7QUFFdEIsTUFBTUMsZUFBZSxDQUFDQztJQUNwQixNQUFNQyxrQkFBa0JMLG1GQUFrQkEsQ0FBQ0k7SUFFM0MsSUFBSSxDQUFDQyxpQkFBaUI7UUFDcEIsTUFBTSxJQUFJQyxNQUNSO0lBRUo7SUFFQSxPQUFPLElBQUlQLDBDQUFNQSxDQUFDTSxpQkFBaUI7UUFDakNFLFlBQVlOO1FBQ1pPLFlBQVk7UUFDWkMsU0FBUztZQUFFQyxNQUFNUjtRQUFjO0lBQ2pDO0FBQ0Y7QUFFQSxpRUFBZUMsWUFBWUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2V4cGVuc2UtbWFuYWdlbWVudC8uL3NyYy91dGlscy9zdHJpcGUtbG9hZGVyLnRzPzBiNDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RyaXBlIH0gZnJvbSBcInN0cmlwZVwiO1xuXG5pbXBvcnQgeyBQbGF0Zm9ybVN0cmlwZUFjY291bnQgfSBmcm9tIFwic3JjL3V0aWxzL2FjY291bnQtbWFuYWdlbWVudC1oZWxwZXJzXCI7XG5pbXBvcnQgeyBnZXRTdHJpcGVTZWNyZXRLZXkgfSBmcm9tIFwic3JjL3V0aWxzL3N0cmlwZS1hdXRoZW50aWNhdGlvblwiO1xuXG5jb25zdCBBUElfVkVSU0lPTiA9IFwiMjAyMy0xMC0xNlwiO1xuY29uc3QgQVBQX0lORk9fTkFNRSA9IFwiU3RyaXBlIElzc3VpbmcgJiBUcmVhc3VyeSBTdGFydGVyIEFwcGxpY2F0aW9uXCI7XG5cbmNvbnN0IHN0cmlwZUNsaWVudCA9IChwbGF0Zm9ybTogUGxhdGZvcm1TdHJpcGVBY2NvdW50KSA9PiB7XG4gIGNvbnN0IHN0cmlwZVNlY3JldEtleSA9IGdldFN0cmlwZVNlY3JldEtleShwbGF0Zm9ybSk7XG5cbiAgaWYgKCFzdHJpcGVTZWNyZXRLZXkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIkNhbm5vdCBpbnN0YW50aWF0ZSBTdHJpcGUgY2xpZW50LiBTVFJJUEVfU0VDUkVUX0tFWSBuZWVkcyB0byBiZSBzZXQgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzLlwiLFxuICAgICk7XG4gIH1cblxuICByZXR1cm4gbmV3IFN0cmlwZShzdHJpcGVTZWNyZXRLZXksIHtcbiAgICBhcGlWZXJzaW9uOiBBUElfVkVSU0lPTixcbiAgICB0eXBlc2NyaXB0OiB0cnVlLFxuICAgIGFwcEluZm86IHsgbmFtZTogQVBQX0lORk9fTkFNRSB9LFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmlwZUNsaWVudDtcbiJdLCJuYW1lcyI6WyJTdHJpcGUiLCJnZXRTdHJpcGVTZWNyZXRLZXkiLCJBUElfVkVSU0lPTiIsIkFQUF9JTkZPX05BTUUiLCJzdHJpcGVDbGllbnQiLCJwbGF0Zm9ybSIsInN0cmlwZVNlY3JldEtleSIsIkVycm9yIiwiYXBpVmVyc2lvbiIsInR5cGVzY3JpcHQiLCJhcHBJbmZvIiwibmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/utils/stripe-loader.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/../node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();